(function(n){function t(t,i){function nt(){return n.tiny.scrollbar.options.scroll=i.scroll,d.update(),it(),d}function tt(){var n=b.toLowerCase();f.obj.css(c,u/h.ratio),r.obj.css(c,-u),p.start=f.obj.offset()[c],h.obj.css(n,e[i.axis]),e.obj.css(n,e[i.axis]),f.obj.css(n,f[i.axis])}function it(){k?o.obj[0].ontouchstart=function(n){1===n.touches.length&&(g(n.touches[0]),n.stopPropagation())}:(f.obj.bind("mousedown",g),e.obj.bind("mouseup",w)),s[0].removeEventListener("DOMMouseScroll",a,!1),s[0].removeEventListener("mousewheel",a,!1),s[0].onmousewheel=null,n.tiny.scrollbar&&window.addEventListener?(s[0].addEventListener("DOMMouseScroll",a,!1),s[0].addEventListener("mousewheel",a,!1)):n.tiny.scrollbar?s[0].onmousewheel=a:(s[0].removeEventListener("DOMMouseScroll",a,!1),s[0].removeEventListener("mousewheel",a,!1),s[0].onmousewheel=null)}function g(t){n("body").addClass("noSelect");var i=parseInt(f.obj.css(c),10);p.start=v?t.pageX:t.pageY,l.start=i=="auto"?0:i,k?(document.ontouchmove=function(n){n.preventDefault(),w(n.touches[0])},document.ontouchend=y):(n(document).bind("mousemove",w),n(document).bind("mouseup",y),f.obj.bind("mouseup",y))}function a(t){if(!n.tiny.scrollbar.options.scroll)return!1;if(r.ratio<1){var e=t||window.event,s=e.wheelDelta?e.wheelDelta/120:-e.detail/3;u-=s*i.wheel,u=Math.min(r[i.axis]-o[i.axis],Math.max(0,u)),f.obj.css(c,u/h.ratio),r.obj.css(c,-u),(i.lockscroll||u!==r[i.axis]-o[i.axis]&&u!==0)&&(e=n.event.fix(e),e.preventDefault())}}function w(n){r.ratio<1&&(l.now=i.invertscroll&&k?Math.min(e[i.axis]-f[i.axis],Math.max(0,l.start+(p.start-(v?n.pageX:n.pageY)))):Math.min(e[i.axis]-f[i.axis],Math.max(0,l.start+((v?n.pageX:n.pageY)-p.start))),u=l.now*h.ratio,r.obj.css(c,-u),f.obj.css(c,l.now))}function y(){n("body").removeClass("noSelect"),n(document).unbind("mousemove",w),n(document).unbind("mouseup",y),f.obj.unbind("mouseup",y),document.ontouchmove=document.ontouchend=null}var d=this,s=t,o={obj:n(".viewport",t)},r={obj:n(".overview",t)},rt=i.scroll,h={obj:n(".scrollbar",t)},e={obj:n(".track",h.obj)},f={obj:n(".thumb",h.obj)},v=i.axis==="x",c=v?"left":"top",b=v?"Width":"Height",u=0,l={start:0,now:0},p={},k="ontouchstart"in document.documentElement;return this.update=function(n){o[i.axis]=o.obj[0]["offset"+b],r[i.axis]=r.obj[0]["scroll"+b],r.ratio=o[i.axis]/r[i.axis],h.obj.toggleClass("disable",r.ratio>=1),e[i.axis]=i.size==="auto"?o[i.axis]:i.size,f[i.axis]=Math.min(e[i.axis],Math.max(0,i.sizethumb==="auto"?e[i.axis]*r.ratio:i.sizethumb)),h.ratio=i.sizethumb==="auto"?r[i.axis]/e[i.axis]:(r[i.axis]-o[i.axis])/(e[i.axis]-f[i.axis]),u=n==="relative"&&r.ratio<=1?Math.min(r[i.axis]-o[i.axis],Math.max(0,u)):0,u=n==="bottom"&&r.ratio<=1?r[i.axis]-o[i.axis]:isNaN(parseInt(n,10))?u:parseInt(n,10),tt()},nt()}n.tiny=n.tiny||{},n.tiny.scrollbar={options:{axis:"y",wheel:40,scroll:!0,lockscroll:!0,size:"auto",sizethumb:"auto",invertscroll:!1}},n.fn.tinyscrollbar=function(i){var r=n.extend({},n.tiny.scrollbar.options,i);return this.each(function(){n(this).data("tsb",new t(n(this),r))}),this},n.fn.tinyscrollbar_update=function(t){return n(this).data("tsb").update(t)}})(jQuery);
//# sourceMappingURL=jquery.tinyscrollbar.min.js.map